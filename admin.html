<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white p-10 font-mono">
    <h1 class="text-3xl font-bold mb-8 text-rose-500">ETERNAL WALL ADMIN</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="bg-gray-800 p-6 rounded border border-gray-700">
            <h3 class="text-gray-400">Total Users</h3>
            <p id="usersCount" class="text-5xl font-bold mt-2">...</p>
        </div>
        <div class="bg-gray-800 p-6 rounded border border-gray-700">
            <h3 class="text-gray-400">Public Profiles (Map)</h3>
            <p id="profilesCount" class="text-5xl font-bold mt-2 text-rose-500">...</p>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js";

        const app = initializeApp({
            apiKey: "AIzaSyBUjzMFao9BS3uXBOW3qYrLVqHaGn8qIk4",
            authDomain: "onlineshop-30cd1.firebaseapp.com",
            databaseURL: "https://onlineshop-30cd1-default-rtdb.firebaseio.com",
            projectId: "onlineshop-30cd1",
            storageBucket: "onlineshop-30cd1.firebasestorage.app",
            messagingSenderId: "818252574868",
            appId: "1:818252574868:web:8dd36825db589a886cc481",
            measurementId: "G-6YLGGH2NDD"
        });
        const db = getDatabase(app);

        onValue(ref(db, 'users'), snap => document.getElementById('usersCount').innerText = snap.size);
        onValue(ref(db, 'public_profiles'), snap => document.getElementById('profilesCount').innerText = snap.size);
    </script>
</body>
</html>
